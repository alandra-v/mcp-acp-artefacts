{"time": "2025-12-23T18:24:55.597Z", "event": "client_request", "source": "client", "direction": "ingress", "transport": "streamablehttp", "method": "initialize", "payload": "{\"method\":\"initialize\",\"params\":{\"_meta\":null,\"protocolVersion\":\"2025-11-25\",\"capabilities\":{\"experimental\":null,\"sampling\":{},\"elicitation\":{},\"roots\":{\"listChanged\":true}},\"clientInfo\":{\"name\":\"inspector-client\",\"title\":null,\"version\":\"0.18.0\",\"websiteUrl\":null,\"icons\":null}},\"jsonrpc\":\"2.0\",\"id\":0}", "payload_type": "InitializeRequest", "client_name": "inspector-client", "client_version": "0.18.0", "protocol_version": "2025-11-25"}
{"time": "2025-12-23T18:24:55.599Z", "event": "proxy_response", "source": "proxy", "direction": "egress", "transport": "streamablehttp", "method": "initialize", "duration_ms": 0.53}
{"time": "2025-12-23T18:24:57.900Z", "event": "client_request", "source": "client", "direction": "ingress", "transport": "streamablehttp", "method": "tools/list", "request_id": "1", "session_id": "b33708f6-ca0a-4e31-9ea2-9de7405c9bd3", "payload": "{\"method\":\"tools/list\",\"params\":null}", "payload_type": "ListToolsRequest"}
{"time": "2025-12-23T18:24:57.956Z", "event": "proxy_response", "source": "proxy", "direction": "egress", "transport": "streamablehttp", "method": "tools/list", "duration_ms": 55.1, "request_id": "1", "session_id": "b33708f6-ca0a-4e31-9ea2-9de7405c9bd3"}
{"time": "2025-12-23T18:25:06.957Z", "event": "client_request", "source": "client", "direction": "ingress", "transport": "streamablehttp", "method": "tools/call", "request_id": "2", "session_id": "b33708f6-ca0a-4e31-9ea2-9de7405c9bd3", "payload": "{\"_meta\":null,\"name\":\"read_file\",\"arguments\":{\"path\":\"<test-workspace>/hello-world.md\"}}", "payload_type": "CallToolRequestParams"}
{"time": "2025-12-23T18:25:07.110Z", "event": "proxy_response", "source": "proxy", "direction": "egress", "transport": "streamablehttp", "method": "tools/call", "duration_ms": 152.61, "request_id": "2", "session_id": "b33708f6-ca0a-4e31-9ea2-9de7405c9bd3"}
{"time": "2025-12-23T18:25:22.861Z", "event": "client_request", "source": "client", "direction": "ingress", "transport": "streamablehttp", "method": "tools/call", "request_id": "3", "session_id": "b33708f6-ca0a-4e31-9ea2-9de7405c9bd3", "payload": "{\"_meta\":null,\"name\":\"read_file\",\"arguments\":{\"path\":\"<test-workspace>/secrets/credentials.txt\"}}", "payload_type": "CallToolRequestParams"}
{"time": "2025-12-23T18:25:22.867Z", "event": "proxy_error", "source": "proxy", "direction": "egress", "transport": "streamablehttp", "method": "tools/call", "duration_ms": 1.47, "error": "Policy denied: tools/call on<test-workspace>/tmp-dir/secrets/credentials.txt", "error_type": "PermissionDeniedError", "error_traceback": "Traceback (most recent call last):\n  File \"<workspace>/mcp-acp-core/venv/lib/python3.13/site-packages/fastmcp/server/middleware/logging.py\", line 136, in on_message\n    result = await call_next(context)\n             ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"<workspace>/mcp-acp-core/venv/lib/python3.13/site-packages/fastmcp/server/middleware/middleware.py\", line 141, in on_request\n    return await call_next(context)\n           ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"<workspace>/mcp-acp-core/venv/lib/python3.13/site-packages/fastmcp/server/middleware/middleware.py\", line 162, in on_call_tool\n    return await call_next(context)\n           ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"<workspace>/mcp-acp-core/venv/lib/python3.13/site-packages/fastmcp/server/middleware/middleware.py\", line 93, in __call__\n    return await handler_chain(context)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"<workspace>/mcp-acp-core/src/mcp_acp_core/pep/middleware.py\", line 373, in on_message\n    raise PermissionDeniedError(\n    ...<6 lines>...\n    )\nmcp_acp_core.exceptions.PermissionDeniedError: Policy denied: tools/call on<test-workspace>/tmp-dir/secrets/credentials.txt\n", "error_code": -32001, "error_category": "backend", "request_id": "3", "session_id": "b33708f6-ca0a-4e31-9ea2-9de7405c9bd3"}
{"time": "2025-12-23T18:25:39.602Z", "event": "client_request", "source": "client", "direction": "ingress", "transport": "streamablehttp", "method": "tools/call", "request_id": "4", "session_id": "b33708f6-ca0a-4e31-9ea2-9de7405c9bd3", "payload": "{\"_meta\":null,\"name\":\"read_file\",\"arguments\":{\"path\":\"/tmp/outside-projects.txt\"}}", "payload_type": "CallToolRequestParams"}
{"time": "2025-12-23T18:25:39.605Z", "event": "proxy_error", "source": "proxy", "direction": "egress", "transport": "streamablehttp", "method": "tools/call", "duration_ms": 1.64, "error": "Policy denied: tools/call on /tmp/outside-projects.txt", "error_type": "PermissionDeniedError", "error_traceback": "Traceback (most recent call last):\n  File \"<workspace>/mcp-acp-core/venv/lib/python3.13/site-packages/fastmcp/server/middleware/logging.py\", line 136, in on_message\n    result = await call_next(context)\n             ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"<workspace>/mcp-acp-core/venv/lib/python3.13/site-packages/fastmcp/server/middleware/middleware.py\", line 141, in on_request\n    return await call_next(context)\n           ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"<workspace>/mcp-acp-core/venv/lib/python3.13/site-packages/fastmcp/server/middleware/middleware.py\", line 162, in on_call_tool\n    return await call_next(context)\n           ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"<workspace>/mcp-acp-core/venv/lib/python3.13/site-packages/fastmcp/server/middleware/middleware.py\", line 93, in __call__\n    return await handler_chain(context)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"<workspace>/mcp-acp-core/src/mcp_acp_core/pep/middleware.py\", line 373, in on_message\n    raise PermissionDeniedError(\n    ...<6 lines>...\n    )\nmcp_acp_core.exceptions.PermissionDeniedError: Policy denied: tools/call on /tmp/outside-projects.txt\n", "error_code": -32001, "error_category": "backend", "request_id": "4", "session_id": "b33708f6-ca0a-4e31-9ea2-9de7405c9bd3"}
{"time": "2025-12-23T18:25:58.234Z", "event": "client_request", "source": "client", "direction": "ingress", "transport": "streamablehttp", "method": "tools/call", "request_id": "5", "session_id": "b33708f6-ca0a-4e31-9ea2-9de7405c9bd3", "payload": "{\"_meta\":null,\"name\":\"write_file\",\"arguments\":{\"path\":\"<test-workspace>/test-pol05.txt\",\"content\":\"\"}}", "payload_type": "CallToolRequestParams"}
{"time": "2025-12-23T18:26:05.422Z", "event": "proxy_response", "source": "proxy", "direction": "egress", "transport": "streamablehttp", "method": "tools/call", "duration_ms": 7187.45, "request_id": "5", "session_id": "b33708f6-ca0a-4e31-9ea2-9de7405c9bd3"}
{"time": "2025-12-23T18:26:20.866Z", "event": "client_request", "source": "client", "direction": "ingress", "transport": "streamablehttp", "method": "tools/call", "request_id": "6", "session_id": "b33708f6-ca0a-4e31-9ea2-9de7405c9bd3", "payload": "{\"_meta\":null,\"name\":\"write_file\",\"arguments\":{\"path\":\"<test-workspace>/hitl-approved.txt\",\"content\":\"test\"}}", "payload_type": "CallToolRequestParams"}
{"time": "2025-12-23T18:26:25.205Z", "event": "proxy_response", "source": "proxy", "direction": "egress", "transport": "streamablehttp", "method": "tools/call", "duration_ms": 4339.09, "request_id": "6", "session_id": "b33708f6-ca0a-4e31-9ea2-9de7405c9bd3"}
{"time": "2025-12-23T18:27:00.738Z", "event": "client_request", "source": "client", "direction": "ingress", "transport": "streamablehttp", "method": "tools/call", "request_id": "7", "session_id": "b33708f6-ca0a-4e31-9ea2-9de7405c9bd3", "payload": "{\"_meta\":null,\"name\":\"write_file\",\"arguments\":{\"path\":\"<test-workspace>/hitl-denied.txt\",\"content\":\"test\"}}", "payload_type": "CallToolRequestParams"}
{"time": "2025-12-23T18:27:05.270Z", "event": "proxy_error", "source": "proxy", "direction": "egress", "transport": "streamablehttp", "method": "tools/call", "duration_ms": 4530.29, "error": "User denied: tools/call on<test-workspace>/tmp-dir/hitl-denied.txt", "error_type": "PermissionDeniedError", "error_traceback": "Traceback (most recent call last):\n  File \"<workspace>/mcp-acp-core/venv/lib/python3.13/site-packages/fastmcp/server/middleware/logging.py\", line 136, in on_message\n    result = await call_next(context)\n             ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"<workspace>/mcp-acp-core/venv/lib/python3.13/site-packages/fastmcp/server/middleware/middleware.py\", line 141, in on_request\n    return await call_next(context)\n           ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"<workspace>/mcp-acp-core/venv/lib/python3.13/site-packages/fastmcp/server/middleware/middleware.py\", line 162, in on_call_tool\n    return await call_next(context)\n           ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"<workspace>/mcp-acp-core/venv/lib/python3.13/site-packages/fastmcp/server/middleware/middleware.py\", line 93, in __call__\n    return await handler_chain(context)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"<workspace>/mcp-acp-core/src/mcp_acp_core/pep/middleware.py\", line 419, in on_message\n    raise PermissionDeniedError(\n    ...<6 lines>...\n    )\nmcp_acp_core.exceptions.PermissionDeniedError: User denied: tools/call on<test-workspace>/tmp-dir/hitl-denied.txt\n", "error_code": -32001, "error_category": "backend", "request_id": "7", "session_id": "b33708f6-ca0a-4e31-9ea2-9de7405c9bd3"}
{"time": "2025-12-23T18:27:30.533Z", "event": "client_request", "source": "client", "direction": "ingress", "transport": "streamablehttp", "method": "tools/call", "request_id": "8", "session_id": "b33708f6-ca0a-4e31-9ea2-9de7405c9bd3", "payload": "{\"_meta\":null,\"name\":\"write_file\",\"arguments\":{\"path\":\"<test-workspace>/hitl-timeout.txt\",\"content\":\"test\"}}", "payload_type": "CallToolRequestParams"}
{"time": "2025-12-23T18:28:03.631Z", "event": "proxy_error", "source": "proxy", "direction": "egress", "transport": "streamablehttp", "method": "tools/call", "duration_ms": 33097.26, "error": "Approval timeout: tools/call on<test-workspace>/tmp-dir/hitl-timeout.txt", "error_type": "PermissionDeniedError", "error_traceback": "Traceback (most recent call last):\n  File \"<workspace>/mcp-acp-core/venv/lib/python3.13/site-packages/fastmcp/server/middleware/logging.py\", line 136, in on_message\n    result = await call_next(context)\n             ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"<workspace>/mcp-acp-core/venv/lib/python3.13/site-packages/fastmcp/server/middleware/middleware.py\", line 141, in on_request\n    return await call_next(context)\n           ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"<workspace>/mcp-acp-core/venv/lib/python3.13/site-packages/fastmcp/server/middleware/middleware.py\", line 162, in on_call_tool\n    return await call_next(context)\n           ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"<workspace>/mcp-acp-core/venv/lib/python3.13/site-packages/fastmcp/server/middleware/middleware.py\", line 93, in __call__\n    return await handler_chain(context)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"<workspace>/mcp-acp-core/src/mcp_acp_core/pep/middleware.py\", line 419, in on_message\n    raise PermissionDeniedError(\n    ...<6 lines>...\n    )\nmcp_acp_core.exceptions.PermissionDeniedError: Approval timeout: tools/call on<test-workspace>/tmp-dir/hitl-timeout.txt\n", "error_code": -32001, "error_category": "backend", "request_id": "8", "session_id": "b33708f6-ca0a-4e31-9ea2-9de7405c9bd3"}
{"time": "2025-12-23T18:28:15.798Z", "event": "client_request", "source": "client", "direction": "ingress", "transport": "streamablehttp", "method": "tools/call", "request_id": "9", "session_id": "b33708f6-ca0a-4e31-9ea2-9de7405c9bd3", "payload": "{\"_meta\":null,\"name\":\"write_file\",\"arguments\":{\"path\":\"<test-workspace>/file with spaces.txt\",\"content\":\"test\"}}", "payload_type": "CallToolRequestParams"}
{"time": "2025-12-23T18:28:20.279Z", "event": "proxy_response", "source": "proxy", "direction": "egress", "transport": "streamablehttp", "method": "tools/call", "duration_ms": 4481.52, "request_id": "9", "session_id": "b33708f6-ca0a-4e31-9ea2-9de7405c9bd3"}
{"time": "2025-12-23T18:30:32.608Z", "event": "client_request", "source": "client", "direction": "ingress", "transport": "streamablehttp", "method": "tools/call", "request_id": "10", "session_id": "b33708f6-ca0a-4e31-9ea2-9de7405c9bd3", "payload": "{\"_meta\":null,\"name\":\"write_file\",\"arguments\":{\"path\":\"<test-workspace>/file with spaces.txt\",\"content\":\"test\"}}", "payload_type": "CallToolRequestParams"}
{"time": "2025-12-23T18:30:37.585Z", "event": "proxy_error", "source": "proxy", "direction": "egress", "transport": "streamablehttp", "method": "tools/call", "duration_ms": 4968.13, "error": "Client failed to connect: All connection attempts failed", "error_type": "RuntimeError", "error_traceback": "Traceback (most recent call last):\n  File \"<workspace>/mcp-acp-core/venv/lib/python3.13/site-packages/fastmcp/client/client.py\", line 481, in _session_runner\n    await stack.enter_async_context(self._context_manager())\n  File \"/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/contextlib.py\", line 668, in enter_async_context\n    result = await _enter(cm)\n             ^^^^^^^^^^^^^^^^\n  File \"/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/contextlib.py\", line 214, in __aenter__\n    return await anext(self.gen)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"<workspace>/mcp-acp-core/venv/lib/python3.13/site-packages/fastmcp/client/client.py\", line 357, in _context_manager\n    with catch(get_catch_handlers()):\n         ~~~~~^^^^^^^^^^^^^^^^^^^^^^\n  File \"<workspace>/mcp-acp-core/venv/lib/python3.13/site-packages/exceptiongroup/_catch.py\", line 39, in __exit__\n    raise unhandled from exc.__cause__\n  File \"<workspace>/mcp-acp-core/venv/lib/python3.13/site-packages/exceptiongroup/_catch.py\", line 65, in handle_exception\n    result = handler(matched)\n  File \"<workspace>/mcp-acp-core/venv/lib/python3.13/site-packages/fastmcp/utilities/exceptions.py\", line 29, in _exception_handler\n    raise leaf\n  File \"<workspace>/mcp-acp-core/venv/lib/python3.13/site-packages/mcp/client/streamable_http.py\", line 411, in handle_request_async\n    await self._handle_post_request(ctx)\n  File \"<workspace>/mcp-acp-core/venv/lib/python3.13/site-packages/mcp/client/streamable_http.py\", line 262, in _handle_post_request\n    async with ctx.client.stream(\n               ~~~~~~~~~~~~~~~~~^\n        \"POST\",\n        ^^^^^^^\n    ...<2 lines>...\n        headers=headers,\n        ^^^^^^^^^^^^^^^^\n    ) as response:\n    ^\n  File \"/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/contextlib.py\", line 214, in __aenter__\n    return await anext(self.gen)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"<workspace>/mcp-acp-core/venv/lib/python3.13/site-packages/httpx/_client.py\", line 1583, in stream\n    response = await self.send(\n               ^^^^^^^^^^^^^^^^\n    ...<4 lines>...\n    )\n    ^\n  File \"<workspace>/mcp-acp-core/venv/lib/python3.13/site-packages/httpx/_client.py\", line 1629, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<4 lines>...\n    )\n    ^\n  File \"<workspace>/mcp-acp-core/venv/lib/python3.13/site-packages/httpx/_client.py\", line 1657, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"<workspace>/mcp-acp-core/venv/lib/python3.13/site-packages/httpx/_client.py\", line 1694, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"<workspace>/mcp-acp-core/venv/lib/python3.13/site-packages/httpx/_client.py\", line 1730, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"<workspace>/mcp-acp-core/venv/lib/python3.13/site-packages/httpx/_transports/default.py\", line 393, in handle_async_request\n    with map_httpcore_exceptions():\n         ~~~~~~~~~~~~~~~~~~~~~~~^^\n  File \"/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"<workspace>/mcp-acp-core/venv/lib/python3.13/site-packages/httpx/_transports/default.py\", line 118, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ConnectError: All connection attempts failed\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"<workspace>/mcp-acp-core/venv/lib/python3.13/site-packages/fastmcp/server/middleware/logging.py\", line 136, in on_message\n    result = await call_next(context)\n             ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"<workspace>/mcp-acp-core/venv/lib/python3.13/site-packages/fastmcp/server/middleware/middleware.py\", line 141, in on_request\n    return await call_next(context)\n           ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"<workspace>/mcp-acp-core/venv/lib/python3.13/site-packages/fastmcp/server/middleware/middleware.py\", line 162, in on_call_tool\n    return await call_next(context)\n           ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"<workspace>/mcp-acp-core/venv/lib/python3.13/site-packages/fastmcp/server/middleware/middleware.py\", line 93, in __call__\n    return await handler_chain(context)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"<workspace>/mcp-acp-core/src/mcp_acp_core/pep/middleware.py\", line 400, in on_message\n    return await call_next(context)\n           ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"<workspace>/mcp-acp-core/venv/lib/python3.13/site-packages/fastmcp/server/middleware/middleware.py\", line 141, in on_request\n    return await call_next(context)\n           ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"<workspace>/mcp-acp-core/venv/lib/python3.13/site-packages/fastmcp/server/middleware/middleware.py\", line 162, in on_call_tool\n    return await call_next(context)\n           ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"<workspace>/mcp-acp-core/venv/lib/python3.13/site-packages/fastmcp/server/server.py\", line 1131, in _call_tool\n    tool = await self._tool_manager.get_tool(tool_name)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"<workspace>/mcp-acp-core/venv/lib/python3.13/site-packages/fastmcp/tools/tool_manager.py\", line 67, in get_tool\n    tools = await self.get_tools()\n            ^^^^^^^^^^^^^^^^^^^^^^\n  File \"<workspace>/mcp-acp-core/venv/lib/python3.13/site-packages/fastmcp/server/proxy.py\", line 84, in get_tools\n    async with client:\n               ^^^^^^\n  File \"<workspace>/mcp-acp-core/src/mcp_acp_core/telemetry/debug/logging_proxy_client.py\", line 308, in __aenter__\n    await super().__aenter__()\n  File \"<workspace>/mcp-acp-core/venv/lib/python3.13/site-packages/fastmcp/client/client.py\", line 374, in __aenter__\n    return await self._connect()\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"<workspace>/mcp-acp-core/venv/lib/python3.13/site-packages/fastmcp/client/client.py\", line 419, in _connect\n    raise RuntimeError(\n        f\"Client failed to connect: {exception}\"\n    ) from exception\nRuntimeError: Client failed to connect: All connection attempts failed\n", "error_category": "system", "request_id": "10", "session_id": "b33708f6-ca0a-4e31-9ea2-9de7405c9bd3"}
{"time": "2025-12-23T18:31:40.093Z", "event": "client_request", "source": "client", "direction": "ingress", "transport": "stdio", "method": "initialize", "payload": "{\"method\":\"initialize\",\"params\":{\"_meta\":null,\"protocolVersion\":\"2025-11-25\",\"capabilities\":{\"experimental\":null,\"sampling\":{},\"elicitation\":{},\"roots\":{\"listChanged\":true}},\"clientInfo\":{\"name\":\"inspector-client\",\"title\":null,\"version\":\"0.18.0\",\"websiteUrl\":null,\"icons\":null}},\"jsonrpc\":\"2.0\",\"id\":0}", "payload_type": "InitializeRequest", "client_name": "inspector-client", "client_version": "0.18.0", "protocol_version": "2025-11-25"}
{"time": "2025-12-23T18:31:40.096Z", "event": "proxy_response", "source": "proxy", "direction": "egress", "transport": "stdio", "method": "initialize", "duration_ms": 2.87}
{"time": "2025-12-23T18:31:59.999Z", "event": "client_request", "source": "client", "direction": "ingress", "transport": "stdio", "method": "tools/list", "request_id": "1", "session_id": "eb7862e1-3652-469d-802a-73b5e1a0543b", "payload": "{\"method\":\"tools/list\",\"params\":null}", "payload_type": "ListToolsRequest"}
{"time": "2025-12-23T18:32:00.452Z", "event": "proxy_response", "source": "proxy", "direction": "egress", "transport": "stdio", "method": "tools/list", "duration_ms": 452.69, "request_id": "1", "session_id": "eb7862e1-3652-469d-802a-73b5e1a0543b"}
{"time": "2025-12-23T18:32:31.136Z", "event": "client_request", "source": "client", "direction": "ingress", "transport": "stdio", "method": "tools/call", "request_id": "2", "session_id": "eb7862e1-3652-469d-802a-73b5e1a0543b", "payload": "{\"_meta\":null,\"name\":\"delete_file\",\"arguments\":{\"path\":\"<test-workspace>/file with spaces.txt\"}}", "payload_type": "CallToolRequestParams"}
{"time": "2025-12-23T18:32:31.140Z", "event": "proxy_error", "source": "proxy", "direction": "egress", "transport": "stdio", "method": "tools/call", "duration_ms": 1.11, "error": "Policy denied: tools/call on<test-workspace>/tmp-dir/file with spaces.txt", "error_type": "PermissionDeniedError", "error_traceback": "Traceback (most recent call last):\n  File \"<workspace>/mcp-acp-core/venv/lib/python3.13/site-packages/fastmcp/server/middleware/logging.py\", line 136, in on_message\n    result = await call_next(context)\n             ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"<workspace>/mcp-acp-core/venv/lib/python3.13/site-packages/fastmcp/server/middleware/middleware.py\", line 141, in on_request\n    return await call_next(context)\n           ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"<workspace>/mcp-acp-core/venv/lib/python3.13/site-packages/fastmcp/server/middleware/middleware.py\", line 162, in on_call_tool\n    return await call_next(context)\n           ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"<workspace>/mcp-acp-core/venv/lib/python3.13/site-packages/fastmcp/server/middleware/middleware.py\", line 93, in __call__\n    return await handler_chain(context)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"<workspace>/mcp-acp-core/src/mcp_acp_core/pep/middleware.py\", line 373, in on_message\n    raise PermissionDeniedError(\n    ...<6 lines>...\n    )\nmcp_acp_core.exceptions.PermissionDeniedError: Policy denied: tools/call on<test-workspace>/tmp-dir/file with spaces.txt\n", "error_code": -32001, "error_category": "backend", "request_id": "2", "session_id": "eb7862e1-3652-469d-802a-73b5e1a0543b"}
{"time": "2025-12-23T18:32:48.583Z", "event": "client_request", "source": "client", "direction": "ingress", "transport": "stdio", "method": "tools/call", "request_id": "3", "session_id": "eb7862e1-3652-469d-802a-73b5e1a0543b", "payload": "{\"_meta\":null,\"name\":\"delete_file\",\"arguments\":{\"path\":\"<test-workspace>/hello-world.md\"}}", "payload_type": "CallToolRequestParams"}
{"time": "2025-12-23T18:32:48.585Z", "event": "proxy_error", "source": "proxy", "direction": "egress", "transport": "stdio", "method": "tools/call", "duration_ms": 0.73, "error": "Policy denied: tools/call on<test-workspace>/tmp-dir/hello-world.md", "error_type": "PermissionDeniedError", "error_traceback": "Traceback (most recent call last):\n  File \"<workspace>/mcp-acp-core/venv/lib/python3.13/site-packages/fastmcp/server/middleware/logging.py\", line 136, in on_message\n    result = await call_next(context)\n             ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"<workspace>/mcp-acp-core/venv/lib/python3.13/site-packages/fastmcp/server/middleware/middleware.py\", line 141, in on_request\n    return await call_next(context)\n           ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"<workspace>/mcp-acp-core/venv/lib/python3.13/site-packages/fastmcp/server/middleware/middleware.py\", line 162, in on_call_tool\n    return await call_next(context)\n           ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"<workspace>/mcp-acp-core/venv/lib/python3.13/site-packages/fastmcp/server/middleware/middleware.py\", line 93, in __call__\n    return await handler_chain(context)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"<workspace>/mcp-acp-core/src/mcp_acp_core/pep/middleware.py\", line 373, in on_message\n    raise PermissionDeniedError(\n    ...<6 lines>...\n    )\nmcp_acp_core.exceptions.PermissionDeniedError: Policy denied: tools/call on<test-workspace>/tmp-dir/hello-world.md\n", "error_code": -32001, "error_category": "backend", "request_id": "3", "session_id": "eb7862e1-3652-469d-802a-73b5e1a0543b"}
{"time": "2025-12-23T18:33:25.991Z", "event": "client_request", "source": "client", "direction": "ingress", "transport": "stdio", "method": "tools/call", "request_id": "4", "session_id": "eb7862e1-3652-469d-802a-73b5e1a0543b", "payload": "{\"_meta\":null,\"name\":\"read_file\",\"arguments\":{\"path\":\"<test-workspace>/hello-world.md\"}}", "payload_type": "CallToolRequestParams"}
{"time": "2025-12-23T18:33:26.014Z", "event": "proxy_response", "source": "proxy", "direction": "egress", "transport": "stdio", "method": "tools/call", "duration_ms": 23.34, "request_id": "4", "session_id": "eb7862e1-3652-469d-802a-73b5e1a0543b"}
{"time": "2025-12-23T18:34:05.249Z", "event": "client_request", "source": "client", "direction": "ingress", "transport": "streamablehttp", "method": "initialize", "payload": "{\"method\":\"initialize\",\"params\":{\"_meta\":null,\"protocolVersion\":\"2025-06-18\",\"capabilities\":{\"experimental\":null,\"sampling\":null,\"elicitation\":null,\"roots\":null},\"clientInfo\":{\"name\":\"claude-ai\",\"title\":null,\"version\":\"0.1.0\",\"websiteUrl\":null,\"icons\":null}},\"jsonrpc\":\"2.0\",\"id\":0}", "payload_type": "InitializeRequest", "client_name": "claude-ai", "client_version": "0.1.0", "protocol_version": "2025-06-18"}
{"time": "2025-12-23T18:34:05.251Z", "event": "proxy_response", "source": "proxy", "direction": "egress", "transport": "streamablehttp", "method": "initialize", "duration_ms": 0.96}
{"time": "2025-12-23T18:34:05.254Z", "event": "client_request", "source": "client", "direction": "ingress", "transport": "streamablehttp", "method": "tools/list", "request_id": "1", "session_id": "d29eb436-b06f-4085-b3a6-066973f9390c", "payload": "{\"method\":\"tools/list\",\"params\":null}", "payload_type": "ListToolsRequest"}
{"time": "2025-12-23T18:34:05.278Z", "event": "client_request", "source": "client", "direction": "ingress", "transport": "streamablehttp", "method": "prompts/list", "request_id": "2", "session_id": "d29eb436-b06f-4085-b3a6-066973f9390c", "payload": "{\"method\":\"prompts/list\",\"params\":null}", "payload_type": "ListPromptsRequest"}
{"time": "2025-12-23T18:34:05.297Z", "event": "client_request", "source": "client", "direction": "ingress", "transport": "streamablehttp", "method": "resources/list", "request_id": "3", "session_id": "d29eb436-b06f-4085-b3a6-066973f9390c", "payload": "{}", "payload_type": "dict"}
{"time": "2025-12-23T18:34:05.350Z", "event": "proxy_response", "source": "proxy", "direction": "egress", "transport": "streamablehttp", "method": "tools/list", "duration_ms": 95.16, "request_id": "1", "session_id": "d29eb436-b06f-4085-b3a6-066973f9390c"}
{"time": "2025-12-23T18:34:05.351Z", "event": "proxy_response", "source": "proxy", "direction": "egress", "transport": "streamablehttp", "method": "prompts/list", "duration_ms": 72.47, "request_id": "2", "session_id": "d29eb436-b06f-4085-b3a6-066973f9390c"}
{"time": "2025-12-23T18:34:05.351Z", "event": "proxy_response", "source": "proxy", "direction": "egress", "transport": "streamablehttp", "method": "resources/list", "duration_ms": 53.95, "request_id": "3", "session_id": "d29eb436-b06f-4085-b3a6-066973f9390c"}
{"time": "2025-12-23T18:34:22.344Z", "event": "client_request", "source": "client", "direction": "ingress", "transport": "streamablehttp", "method": "tools/call", "request_id": "4", "session_id": "d29eb436-b06f-4085-b3a6-066973f9390c", "payload": "{\"_meta\":null,\"name\":\"read_file\",\"arguments\":{\"path\":\"<test-workspace>/hello-world.md\"}}", "payload_type": "CallToolRequestParams"}
{"time": "2025-12-23T18:34:22.476Z", "event": "proxy_response", "source": "proxy", "direction": "egress", "transport": "streamablehttp", "method": "tools/call", "duration_ms": 131.64, "request_id": "4", "session_id": "d29eb436-b06f-4085-b3a6-066973f9390c"}
{"time": "2025-12-23T18:34:43.619Z", "event": "client_request", "source": "client", "direction": "ingress", "transport": "streamablehttp", "method": "tools/call", "request_id": "5", "session_id": "d29eb436-b06f-4085-b3a6-066973f9390c", "payload": "{\"_meta\":null,\"name\":\"write_file\",\"arguments\":{\"path\":\"<test-workspace>/claude-test.txt\",\"content\":\"Hello from Claude\"}}", "payload_type": "CallToolRequestParams"}
{"time": "2025-12-23T18:34:50.486Z", "event": "proxy_response", "source": "proxy", "direction": "egress", "transport": "streamablehttp", "method": "tools/call", "duration_ms": 6866.16, "request_id": "5", "session_id": "d29eb436-b06f-4085-b3a6-066973f9390c"}
{"time": "2025-12-23T18:35:07.270Z", "event": "client_request", "source": "client", "direction": "ingress", "transport": "streamablehttp", "method": "tools/call", "request_id": "6", "session_id": "d29eb436-b06f-4085-b3a6-066973f9390c", "payload": "{\"_meta\":null,\"name\":\"write_file\",\"arguments\":{\"content\":\"\",\"path\":\"<test-workspace>/denied-by-user.txt\"}}", "payload_type": "CallToolRequestParams"}
{"time": "2025-12-23T18:35:11.019Z", "event": "proxy_error", "source": "proxy", "direction": "egress", "transport": "streamablehttp", "method": "tools/call", "duration_ms": 3746.88, "error": "User denied: tools/call on<test-workspace>/tmp-dir/denied-by-user.txt", "error_type": "PermissionDeniedError", "error_traceback": "Traceback (most recent call last):\n  File \"<workspace>/mcp-acp-core/venv/lib/python3.13/site-packages/fastmcp/server/middleware/logging.py\", line 136, in on_message\n    result = await call_next(context)\n             ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"<workspace>/mcp-acp-core/venv/lib/python3.13/site-packages/fastmcp/server/middleware/middleware.py\", line 141, in on_request\n    return await call_next(context)\n           ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"<workspace>/mcp-acp-core/venv/lib/python3.13/site-packages/fastmcp/server/middleware/middleware.py\", line 162, in on_call_tool\n    return await call_next(context)\n           ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"<workspace>/mcp-acp-core/venv/lib/python3.13/site-packages/fastmcp/server/middleware/middleware.py\", line 93, in __call__\n    return await handler_chain(context)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"<workspace>/mcp-acp-core/src/mcp_acp_core/pep/middleware.py\", line 419, in on_message\n    raise PermissionDeniedError(\n    ...<6 lines>...\n    )\nmcp_acp_core.exceptions.PermissionDeniedError: User denied: tools/call on<test-workspace>/tmp-dir/denied-by-user.txt\n", "error_code": -32001, "error_category": "backend", "request_id": "6", "session_id": "d29eb436-b06f-4085-b3a6-066973f9390c"}
{"time": "2025-12-23T18:35:42.885Z", "event": "client_request", "source": "client", "direction": "ingress", "transport": "streamablehttp", "method": "tools/call", "request_id": "7", "session_id": "d29eb436-b06f-4085-b3a6-066973f9390c", "payload": "{\"_meta\":null,\"name\":\"write_file\",\"arguments\":{\"content\":\"\",\"path\":\"<test-workspace>/a.txt\"}}", "payload_type": "CallToolRequestParams"}
{"time": "2025-12-23T18:35:53.234Z", "event": "proxy_response", "source": "proxy", "direction": "egress", "transport": "streamablehttp", "method": "tools/call", "duration_ms": 10348.32, "request_id": "7", "session_id": "d29eb436-b06f-4085-b3a6-066973f9390c"}
{"time": "2025-12-23T18:35:56.259Z", "event": "client_request", "source": "client", "direction": "ingress", "transport": "streamablehttp", "method": "tools/call", "request_id": "8", "session_id": "d29eb436-b06f-4085-b3a6-066973f9390c", "payload": "{\"_meta\":null,\"name\":\"write_file\",\"arguments\":{\"content\":\"\",\"path\":\"<test-workspace>/b.txt\"}}", "payload_type": "CallToolRequestParams"}
{"time": "2025-12-23T18:36:03.424Z", "event": "proxy_error", "source": "proxy", "direction": "egress", "transport": "streamablehttp", "method": "tools/call", "duration_ms": 7163.23, "error": "User denied: tools/call on<test-workspace>/tmp-dir/b.txt", "error_type": "PermissionDeniedError", "error_traceback": "Traceback (most recent call last):\n  File \"<workspace>/mcp-acp-core/venv/lib/python3.13/site-packages/fastmcp/server/middleware/logging.py\", line 136, in on_message\n    result = await call_next(context)\n             ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"<workspace>/mcp-acp-core/venv/lib/python3.13/site-packages/fastmcp/server/middleware/middleware.py\", line 141, in on_request\n    return await call_next(context)\n           ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"<workspace>/mcp-acp-core/venv/lib/python3.13/site-packages/fastmcp/server/middleware/middleware.py\", line 162, in on_call_tool\n    return await call_next(context)\n           ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"<workspace>/mcp-acp-core/venv/lib/python3.13/site-packages/fastmcp/server/middleware/middleware.py\", line 93, in __call__\n    return await handler_chain(context)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"<workspace>/mcp-acp-core/src/mcp_acp_core/pep/middleware.py\", line 419, in on_message\n    raise PermissionDeniedError(\n    ...<6 lines>...\n    )\nmcp_acp_core.exceptions.PermissionDeniedError: User denied: tools/call on<test-workspace>/tmp-dir/b.txt\n", "error_code": -32001, "error_category": "backend", "request_id": "8", "session_id": "d29eb436-b06f-4085-b3a6-066973f9390c"}
{"time": "2025-12-23T18:36:06.652Z", "event": "client_request", "source": "client", "direction": "ingress", "transport": "streamablehttp", "method": "tools/call", "request_id": "9", "session_id": "d29eb436-b06f-4085-b3a6-066973f9390c", "payload": "{\"_meta\":null,\"name\":\"write_file\",\"arguments\":{\"content\":\"\",\"path\":\"<test-workspace>/c.txt\"}}", "payload_type": "CallToolRequestParams"}
{"time": "2025-12-23T18:36:11.085Z", "event": "proxy_response", "source": "proxy", "direction": "egress", "transport": "streamablehttp", "method": "tools/call", "duration_ms": 4433.51, "request_id": "9", "session_id": "d29eb436-b06f-4085-b3a6-066973f9390c"}
{"time": "2025-12-23T18:37:04.442Z", "event": "client_request", "source": "client", "direction": "ingress", "transport": "streamablehttp", "method": "tools/call", "request_id": "10", "session_id": "d29eb436-b06f-4085-b3a6-066973f9390c", "payload": "{\"_meta\":null,\"name\":\"read_file\",\"arguments\":{\"path\":\"<test-workspace>/hello-world.md\"}}", "payload_type": "CallToolRequestParams"}
{"time": "2025-12-23T18:37:04.572Z", "event": "proxy_response", "source": "proxy", "direction": "egress", "transport": "streamablehttp", "method": "tools/call", "duration_ms": 128.86, "request_id": "10", "session_id": "d29eb436-b06f-4085-b3a6-066973f9390c"}
{"time": "2025-12-23T18:37:07.634Z", "event": "client_request", "source": "client", "direction": "ingress", "transport": "streamablehttp", "method": "tools/call", "request_id": "11", "session_id": "d29eb436-b06f-4085-b3a6-066973f9390c", "payload": "{\"_meta\":null,\"name\":\"write_file\",\"arguments\":{\"content\":\"heyhey\\n\\nTimestamp: 2025-12-23T12:00:00Z\",\"path\":\"<test-workspace>/hello-world.md\"}}", "payload_type": "CallToolRequestParams"}
{"time": "2025-12-23T18:37:12.369Z", "event": "proxy_response", "source": "proxy", "direction": "egress", "transport": "streamablehttp", "method": "tools/call", "duration_ms": 4734.52, "request_id": "11", "session_id": "d29eb436-b06f-4085-b3a6-066973f9390c"}
{"time": "2025-12-23T18:37:49.710Z", "event": "client_request", "source": "client", "direction": "ingress", "transport": "streamablehttp", "method": "tools/call", "request_id": "12", "session_id": "d29eb436-b06f-4085-b3a6-066973f9390c", "payload": "{\"_meta\":null,\"name\":\"list_files\",\"arguments\":{\"path\":\"<test-workspace>/\"}}", "payload_type": "CallToolRequestParams"}
{"time": "2025-12-23T18:37:49.711Z", "event": "proxy_error", "source": "proxy", "direction": "egress", "transport": "streamablehttp", "method": "tools/call", "duration_ms": 0.68, "error": "Policy denied: tools/call on<test-workspace>/tmp-dir", "error_type": "PermissionDeniedError", "error_traceback": "Traceback (most recent call last):\n  File \"<workspace>/mcp-acp-core/venv/lib/python3.13/site-packages/fastmcp/server/middleware/logging.py\", line 136, in on_message\n    result = await call_next(context)\n             ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"<workspace>/mcp-acp-core/venv/lib/python3.13/site-packages/fastmcp/server/middleware/middleware.py\", line 141, in on_request\n    return await call_next(context)\n           ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"<workspace>/mcp-acp-core/venv/lib/python3.13/site-packages/fastmcp/server/middleware/middleware.py\", line 162, in on_call_tool\n    return await call_next(context)\n           ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"<workspace>/mcp-acp-core/venv/lib/python3.13/site-packages/fastmcp/server/middleware/middleware.py\", line 93, in __call__\n    return await handler_chain(context)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"<workspace>/mcp-acp-core/src/mcp_acp_core/pep/middleware.py\", line 373, in on_message\n    raise PermissionDeniedError(\n    ...<6 lines>...\n    )\nmcp_acp_core.exceptions.PermissionDeniedError: Policy denied: tools/call on<test-workspace>/tmp-dir\n", "error_code": -32001, "error_category": "backend", "request_id": "12", "session_id": "d29eb436-b06f-4085-b3a6-066973f9390c"}
{"time": "2025-12-23T18:37:54.842Z", "event": "client_request", "source": "client", "direction": "ingress", "transport": "streamablehttp", "method": "tools/call", "request_id": "13", "session_id": "d29eb436-b06f-4085-b3a6-066973f9390c", "payload": "{\"_meta\":null,\"name\":\"read_file\",\"arguments\":{\"path\":\"<test-workspace>/hello-world.md\"}}", "payload_type": "CallToolRequestParams"}
{"time": "2025-12-23T18:37:54.958Z", "event": "proxy_response", "source": "proxy", "direction": "egress", "transport": "streamablehttp", "method": "tools/call", "duration_ms": 115.09, "request_id": "13", "session_id": "d29eb436-b06f-4085-b3a6-066973f9390c"}
{"time": "2025-12-23T18:37:58.186Z", "event": "client_request", "source": "client", "direction": "ingress", "transport": "streamablehttp", "method": "tools/call", "request_id": "14", "session_id": "d29eb436-b06f-4085-b3a6-066973f9390c", "payload": "{\"_meta\":null,\"name\":\"write_file\",\"arguments\":{\"content\":\"Summary of hello-world.md:\\n\\nThis file contains a simple greeting (\\\"heyhey\\\") followed by a timestamp (2025-12-23T12:00:00Z).\",\"path\":\"<test-workspace>/summary.txt\"}}", "payload_type": "CallToolRequestParams"}
{"time": "2025-12-23T18:38:10.684Z", "event": "proxy_response", "source": "proxy", "direction": "egress", "transport": "streamablehttp", "method": "tools/call", "duration_ms": 12498.43, "request_id": "14", "session_id": "d29eb436-b06f-4085-b3a6-066973f9390c"}
{"time": "2025-12-23T18:38:54.956Z", "event": "client_request", "source": "client", "direction": "ingress", "transport": "streamablehttp", "method": "tools/call", "request_id": "15", "session_id": "d29eb436-b06f-4085-b3a6-066973f9390c", "payload": "{\"_meta\":null,\"name\":\"read_file\",\"arguments\":{\"path\":\"<test-workspace>/secrets/credentials.txt\"}}", "payload_type": "CallToolRequestParams"}
{"time": "2025-12-23T18:38:54.959Z", "event": "proxy_error", "source": "proxy", "direction": "egress", "transport": "streamablehttp", "method": "tools/call", "duration_ms": 1.18, "error": "Policy denied: tools/call on<test-workspace>/tmp-dir/secrets/credentials.txt", "error_type": "PermissionDeniedError", "error_traceback": "Traceback (most recent call last):\n  File \"<workspace>/mcp-acp-core/venv/lib/python3.13/site-packages/fastmcp/server/middleware/logging.py\", line 136, in on_message\n    result = await call_next(context)\n             ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"<workspace>/mcp-acp-core/venv/lib/python3.13/site-packages/fastmcp/server/middleware/middleware.py\", line 141, in on_request\n    return await call_next(context)\n           ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"<workspace>/mcp-acp-core/venv/lib/python3.13/site-packages/fastmcp/server/middleware/middleware.py\", line 162, in on_call_tool\n    return await call_next(context)\n           ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"<workspace>/mcp-acp-core/venv/lib/python3.13/site-packages/fastmcp/server/middleware/middleware.py\", line 93, in __call__\n    return await handler_chain(context)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"<workspace>/mcp-acp-core/src/mcp_acp_core/pep/middleware.py\", line 373, in on_message\n    raise PermissionDeniedError(\n    ...<6 lines>...\n    )\nmcp_acp_core.exceptions.PermissionDeniedError: Policy denied: tools/call on<test-workspace>/tmp-dir/secrets/credentials.txt\n", "error_code": -32001, "error_category": "backend", "request_id": "15", "session_id": "d29eb436-b06f-4085-b3a6-066973f9390c"}
{"time": "2025-12-23T18:39:25.366Z", "event": "client_request", "source": "client", "direction": "ingress", "transport": "streamablehttp", "method": "tools/call", "request_id": "16", "session_id": "d29eb436-b06f-4085-b3a6-066973f9390c", "payload": "{\"_meta\":null,\"name\":\"read_file\",\"arguments\":{\"path\":\"<test-workspace>/secrets/credentials.txt\"}}", "payload_type": "CallToolRequestParams"}
{"time": "2025-12-23T18:39:25.367Z", "event": "proxy_error", "source": "proxy", "direction": "egress", "transport": "streamablehttp", "method": "tools/call", "duration_ms": 0.59, "error": "Policy denied: tools/call on<test-workspace>/tmp-dir/secrets/credentials.txt", "error_type": "PermissionDeniedError", "error_traceback": "Traceback (most recent call last):\n  File \"<workspace>/mcp-acp-core/venv/lib/python3.13/site-packages/fastmcp/server/middleware/logging.py\", line 136, in on_message\n    result = await call_next(context)\n             ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"<workspace>/mcp-acp-core/venv/lib/python3.13/site-packages/fastmcp/server/middleware/middleware.py\", line 141, in on_request\n    return await call_next(context)\n           ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"<workspace>/mcp-acp-core/venv/lib/python3.13/site-packages/fastmcp/server/middleware/middleware.py\", line 162, in on_call_tool\n    return await call_next(context)\n           ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"<workspace>/mcp-acp-core/venv/lib/python3.13/site-packages/fastmcp/server/middleware/middleware.py\", line 93, in __call__\n    return await handler_chain(context)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"<workspace>/mcp-acp-core/src/mcp_acp_core/pep/middleware.py\", line 373, in on_message\n    raise PermissionDeniedError(\n    ...<6 lines>...\n    )\nmcp_acp_core.exceptions.PermissionDeniedError: Policy denied: tools/call on<test-workspace>/tmp-dir/secrets/credentials.txt\n", "error_code": -32001, "error_category": "backend", "request_id": "16", "session_id": "d29eb436-b06f-4085-b3a6-066973f9390c"}
{"time": "2025-12-23T18:41:26.130Z", "event": "client_request", "source": "client", "direction": "ingress", "transport": "streamablehttp", "method": "tools/call", "request_id": "17", "session_id": "d29eb436-b06f-4085-b3a6-066973f9390c", "payload": "{\"_meta\":null,\"name\":\"write_file\",\"arguments\":{\"content\":\"hello\",\"path\":\"<test-workspace>/timeout-test.txt\"}}", "payload_type": "CallToolRequestParams"}
{"time": "2025-12-23T18:41:59.231Z", "event": "proxy_error", "source": "proxy", "direction": "egress", "transport": "streamablehttp", "method": "tools/call", "duration_ms": 33098.89, "error": "Approval timeout: tools/call on<test-workspace>/tmp-dir/timeout-test.txt", "error_type": "PermissionDeniedError", "error_traceback": "Traceback (most recent call last):\n  File \"<workspace>/mcp-acp-core/venv/lib/python3.13/site-packages/fastmcp/server/middleware/logging.py\", line 136, in on_message\n    result = await call_next(context)\n             ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"<workspace>/mcp-acp-core/venv/lib/python3.13/site-packages/fastmcp/server/middleware/middleware.py\", line 141, in on_request\n    return await call_next(context)\n           ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"<workspace>/mcp-acp-core/venv/lib/python3.13/site-packages/fastmcp/server/middleware/middleware.py\", line 162, in on_call_tool\n    return await call_next(context)\n           ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"<workspace>/mcp-acp-core/venv/lib/python3.13/site-packages/fastmcp/server/middleware/middleware.py\", line 93, in __call__\n    return await handler_chain(context)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"<workspace>/mcp-acp-core/src/mcp_acp_core/pep/middleware.py\", line 419, in on_message\n    raise PermissionDeniedError(\n    ...<6 lines>...\n    )\nmcp_acp_core.exceptions.PermissionDeniedError: Approval timeout: tools/call on<test-workspace>/tmp-dir/timeout-test.txt\n", "error_code": -32001, "error_category": "backend", "request_id": "17", "session_id": "d29eb436-b06f-4085-b3a6-066973f9390c"}
{"time": "2025-12-23T18:42:41.549Z", "event": "client_request", "source": "client", "direction": "ingress", "transport": "streamablehttp", "method": "tools/call", "request_id": "18", "session_id": "d29eb436-b06f-4085-b3a6-066973f9390c", "payload": "{\"_meta\":null,\"name\":\"write_file\",\"arguments\":{\"content\":\"A\",\"path\":\"<test-workspace>/test-a.txt\"}}", "payload_type": "CallToolRequestParams"}
{"time": "2025-12-23T18:42:49.537Z", "event": "proxy_response", "source": "proxy", "direction": "egress", "transport": "streamablehttp", "method": "tools/call", "duration_ms": 7987.71, "request_id": "18", "session_id": "d29eb436-b06f-4085-b3a6-066973f9390c"}
{"time": "2025-12-23T18:42:52.996Z", "event": "client_request", "source": "client", "direction": "ingress", "transport": "streamablehttp", "method": "tools/call", "request_id": "19", "session_id": "d29eb436-b06f-4085-b3a6-066973f9390c", "payload": "{\"_meta\":null,\"name\":\"write_file\",\"arguments\":{\"content\":\"B\",\"path\":\"<test-workspace>/test-b.txt\"}}", "payload_type": "CallToolRequestParams"}
{"time": "2025-12-23T18:42:56.670Z", "event": "proxy_error", "source": "proxy", "direction": "egress", "transport": "streamablehttp", "method": "tools/call", "duration_ms": 3673.51, "error": "User denied: tools/call on<test-workspace>/tmp-dir/test-b.txt", "error_type": "PermissionDeniedError", "error_traceback": "Traceback (most recent call last):\n  File \"<workspace>/mcp-acp-core/venv/lib/python3.13/site-packages/fastmcp/server/middleware/logging.py\", line 136, in on_message\n    result = await call_next(context)\n             ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"<workspace>/mcp-acp-core/venv/lib/python3.13/site-packages/fastmcp/server/middleware/middleware.py\", line 141, in on_request\n    return await call_next(context)\n           ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"<workspace>/mcp-acp-core/venv/lib/python3.13/site-packages/fastmcp/server/middleware/middleware.py\", line 162, in on_call_tool\n    return await call_next(context)\n           ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"<workspace>/mcp-acp-core/venv/lib/python3.13/site-packages/fastmcp/server/middleware/middleware.py\", line 93, in __call__\n    return await handler_chain(context)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"<workspace>/mcp-acp-core/src/mcp_acp_core/pep/middleware.py\", line 419, in on_message\n    raise PermissionDeniedError(\n    ...<6 lines>...\n    )\nmcp_acp_core.exceptions.PermissionDeniedError: User denied: tools/call on<test-workspace>/tmp-dir/test-b.txt\n", "error_code": -32001, "error_category": "backend", "request_id": "19", "session_id": "d29eb436-b06f-4085-b3a6-066973f9390c"}
{"time": "2025-12-23T18:43:00.429Z", "event": "client_request", "source": "client", "direction": "ingress", "transport": "streamablehttp", "method": "tools/call", "request_id": "20", "session_id": "d29eb436-b06f-4085-b3a6-066973f9390c", "payload": "{\"_meta\":null,\"name\":\"write_file\",\"arguments\":{\"content\":\"C\",\"path\":\"<test-workspace>/test-c.txt\"}}", "payload_type": "CallToolRequestParams"}
{"time": "2025-12-23T18:43:04.041Z", "event": "proxy_response", "source": "proxy", "direction": "egress", "transport": "streamablehttp", "method": "tools/call", "duration_ms": 3611.52, "request_id": "20", "session_id": "d29eb436-b06f-4085-b3a6-066973f9390c"}
{"time": "2025-12-23T18:44:15.067Z", "event": "client_request", "source": "client", "direction": "ingress", "transport": "streamablehttp", "method": "initialize", "payload": "{\"method\":\"initialize\",\"params\":{\"_meta\":null,\"protocolVersion\":\"2025-11-25\",\"capabilities\":{\"experimental\":null,\"sampling\":{},\"elicitation\":{},\"roots\":{\"listChanged\":true}},\"clientInfo\":{\"name\":\"inspector-client\",\"title\":null,\"version\":\"0.18.0\",\"websiteUrl\":null,\"icons\":null}},\"jsonrpc\":\"2.0\",\"id\":0}", "payload_type": "InitializeRequest", "client_name": "inspector-client", "client_version": "0.18.0", "protocol_version": "2025-11-25"}
{"time": "2025-12-23T18:44:15.068Z", "event": "proxy_response", "source": "proxy", "direction": "egress", "transport": "streamablehttp", "method": "initialize", "duration_ms": 0.84}
{"time": "2025-12-23T18:44:16.859Z", "event": "client_request", "source": "client", "direction": "ingress", "transport": "streamablehttp", "method": "tools/list", "request_id": "1", "session_id": "e0a861aa-2e21-4b4d-8cd5-2e4fb594a2f8", "payload": "{\"method\":\"tools/list\",\"params\":null}", "payload_type": "ListToolsRequest"}
{"time": "2025-12-23T18:44:16.918Z", "event": "proxy_response", "source": "proxy", "direction": "egress", "transport": "streamablehttp", "method": "tools/list", "duration_ms": 58.76, "request_id": "1", "session_id": "e0a861aa-2e21-4b4d-8cd5-2e4fb594a2f8"}
{"time": "2025-12-23T18:44:31.901Z", "event": "client_request", "source": "client", "direction": "ingress", "transport": "streamablehttp", "method": "tools/call", "request_id": "2", "session_id": "e0a861aa-2e21-4b4d-8cd5-2e4fb594a2f8", "payload": "{\"_meta\":null,\"name\":\"read_file\",\"arguments\":{\"path\":\"<workspace>/hello-world.md\"}}", "payload_type": "CallToolRequestParams"}
{"time": "2025-12-23T18:44:31.906Z", "event": "proxy_error", "source": "proxy", "direction": "egress", "transport": "streamablehttp", "method": "tools/call", "duration_ms": 1.05, "error": "Policy denied: tools/call on<test-workspace>/hello-world.md", "error_type": "PermissionDeniedError", "error_traceback": "Traceback (most recent call last):\n  File \"<workspace>/mcp-acp-core/venv/lib/python3.13/site-packages/fastmcp/server/middleware/logging.py\", line 136, in on_message\n    result = await call_next(context)\n             ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"<workspace>/mcp-acp-core/venv/lib/python3.13/site-packages/fastmcp/server/middleware/middleware.py\", line 141, in on_request\n    return await call_next(context)\n           ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"<workspace>/mcp-acp-core/venv/lib/python3.13/site-packages/fastmcp/server/middleware/middleware.py\", line 162, in on_call_tool\n    return await call_next(context)\n           ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"<workspace>/mcp-acp-core/venv/lib/python3.13/site-packages/fastmcp/server/middleware/middleware.py\", line 93, in __call__\n    return await handler_chain(context)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"<workspace>/mcp-acp-core/src/mcp_acp_core/pep/middleware.py\", line 373, in on_message\n    raise PermissionDeniedError(\n    ...<6 lines>...\n    )\nmcp_acp_core.exceptions.PermissionDeniedError: Policy denied: tools/call on<test-workspace>/hello-world.md\n", "error_code": -32001, "error_category": "backend", "request_id": "2", "session_id": "e0a861aa-2e21-4b4d-8cd5-2e4fb594a2f8"}
{"time": "2025-12-23T18:44:46.280Z", "event": "client_request", "source": "client", "direction": "ingress", "transport": "streamablehttp", "method": "tools/call", "request_id": "3", "session_id": "e0a861aa-2e21-4b4d-8cd5-2e4fb594a2f8", "payload": "{\"_meta\":null,\"name\":\"read_file\",\"arguments\":{\"path\":\"<test-workspace>/hello-world.md\"}}", "payload_type": "CallToolRequestParams"}
{"time": "2025-12-23T18:44:46.401Z", "event": "proxy_response", "source": "proxy", "direction": "egress", "transport": "streamablehttp", "method": "tools/call", "duration_ms": 119.47, "request_id": "3", "session_id": "e0a861aa-2e21-4b4d-8cd5-2e4fb594a2f8"}
{"time": "2025-12-23T18:45:31.117Z", "event": "client_request", "source": "client", "direction": "ingress", "transport": "streamablehttp", "method": "tools/call", "request_id": "4", "session_id": "e0a861aa-2e21-4b4d-8cd5-2e4fb594a2f8", "payload": "{\"_meta\":null,\"name\":\"read_file\",\"arguments\":{\"path\":\"<test-workspace>/hello-world.md\"}}", "payload_type": "CallToolRequestParams"}
{"time": "2025-12-23T18:45:31.238Z", "event": "proxy_response", "source": "proxy", "direction": "egress", "transport": "streamablehttp", "method": "tools/call", "duration_ms": 120.48, "request_id": "4", "session_id": "e0a861aa-2e21-4b4d-8cd5-2e4fb594a2f8"}
{"time": "2025-12-23T18:46:20.291Z", "event": "client_request", "source": "client", "direction": "ingress", "transport": "streamablehttp", "method": "initialize", "payload": "{\"method\":\"initialize\",\"params\":{\"_meta\":null,\"protocolVersion\":\"2025-11-25\",\"capabilities\":{\"experimental\":null,\"sampling\":{},\"elicitation\":{},\"roots\":{\"listChanged\":true}},\"clientInfo\":{\"name\":\"inspector-client\",\"title\":null,\"version\":\"0.18.0\",\"websiteUrl\":null,\"icons\":null}},\"jsonrpc\":\"2.0\",\"id\":0}", "payload_type": "InitializeRequest", "client_name": "inspector-client", "client_version": "0.18.0", "protocol_version": "2025-11-25"}
{"time": "2025-12-23T18:46:20.292Z", "event": "proxy_response", "source": "proxy", "direction": "egress", "transport": "streamablehttp", "method": "initialize", "duration_ms": 0.53}
{"time": "2025-12-23T18:46:22.201Z", "event": "client_request", "source": "client", "direction": "ingress", "transport": "streamablehttp", "method": "tools/list", "request_id": "1", "session_id": "432b727a-3e01-4ff7-a48d-11507e841edf", "payload": "{\"method\":\"tools/list\",\"params\":null}", "payload_type": "ListToolsRequest"}
{"time": "2025-12-23T18:46:22.252Z", "event": "proxy_response", "source": "proxy", "direction": "egress", "transport": "streamablehttp", "method": "tools/list", "duration_ms": 50.67, "request_id": "1", "session_id": "432b727a-3e01-4ff7-a48d-11507e841edf"}
{"time": "2025-12-23T18:46:37.304Z", "event": "client_request", "source": "client", "direction": "ingress", "transport": "streamablehttp", "method": "tools/call", "request_id": "2", "session_id": "432b727a-3e01-4ff7-a48d-11507e841edf", "payload": "{\"_meta\":null,\"name\":\"read_file\",\"arguments\":{\"path\":\"<test-workspace>/hello-world.md\"}}", "payload_type": "CallToolRequestParams"}
{"time": "2025-12-23T18:46:37.423Z", "event": "proxy_response", "source": "proxy", "direction": "egress", "transport": "streamablehttp", "method": "tools/call", "duration_ms": 119.06, "request_id": "2", "session_id": "432b727a-3e01-4ff7-a48d-11507e841edf"}
